#summary 東京電力計画停電＠東日本地震2011
#labels Phase-Design

<wiki:toc max_depth="3" />

= 概要 =

 * 東電の計画停電予定表PDFをテキストで取得する。
 * PDFのテキスト化は、 GNU Xpdf http://www.foolabs.com/xpdf/ を使う。

= Xpdf 資料 =

 * [http://www.foolabs.com/xpdf/ xpdf ホーム]
 * [http://www.foolabs.com/xpdf/README README]
 * [http://www.foolabs.com/xpdf/download.html ダウンロード]

= 必要なもの =

 * 上記、ダウンロード先から、次のものをダウンロード。
 * [ftp://ftp.foolabs.com/pub/xpdf/xpdf-3.02pl5-win32.zip xpdf-3.02pl5-win32.zip]
    * これを展開したもののうち、 pdftotext.exe だけを、 C:\tmp\xpdf にコピー。
 * [ftp://ftp.foolabs.com/pub/xpdf/xpdf-japanese.tar.gz xpdf-japanese.tar.gz]
    * これは C:\tmp\xpdf\japanese に展開。
 * pdftotext.bat を C:\tmp\xpdf に設置
    {{{
@echo off
pushd C:\tmp\xpdf

REM pdftotext.exe -cfg xpdfrc.ini -enc Shift-JIS 110314m.pdf -
pdftotext.exe -cfg xpdfrc.ini -enc Shift-JIS %1 %2

popd
    }}}
 * xpdfrc.ini を C:\tmp\xpdf に設置
    {{{
#----- begin Japanese support package (2004-jul-27)
cidToUnicode	Adobe-Japan1	japanese\Adobe-Japan1.cidToUnicode
unicodeMap	ISO-2022-JP	japanese\ISO-2022-JP.unicodeMap
unicodeMap	EUC-JP		japanese\EUC-JP.unicodeMap
unicodeMap	Shift-JIS	japanese\Shift-JIS.unicodeMap
cMapDir		Adobe-Japan1	japanese\CMap
toUnicodeDir			japanese\CMap
#displayCIDFontTT	Adobe-Japan1	/usr/..../kochi-mincho.ttf
#----- end Japanese support package
    }}}

= シナリオ =

 * [http://code.google.com/p/cowares-wpost/source/browse/trunk/teiden_tepco_jp/ シナリオとスクリプトの閲覧]
 * pdf ファイル名のルールがわからないので、とりあえず手で書き換えて流す方式。
    * ピンポイントで取りたいので、メインページから解析するのは却下。
 * 地域別明細は読めない。（セキュリティで蹴られるょ）

== 計画停電.txt ==

{{{
東電とかの計画停電、日替わりPDFをテキストにする

!wpost
!

!misc
!temp-folder!C:\tmp\te

!request
!    url  !http://www.tepco.co.jp/cc/press/betu11_j/images/110314m.pdf

!    url  !http://www.tepco.co.jp/images/chiba.pdf

!output
!temp!pdf

!action
!submit!
!run-cmd!C:\tmp\xpdf\pdftotext.bat C:\tmp\te\w_pdf_temp.txt C:\tmp\te\w_ansi_temp.txt
!run-cmd!type C:\tmp\te\w_ansi_temp.txt
!run!clean_teiden_pdf.vbs

}}}

== clean_teiden_pdf.vbs ==

{{{
' clean_teiden_pdf
' wpost page analyser for teiden.pdf
' Copyright (C) 2011 Tomizono - kobobau.com
' Fortitudinous, Free, Fair, http://cowares.nobody.jp

' usage> CScript //NoLogo nop.vbs /url:URL < in > out

'On Error Resume Next
Main WScript.StdIn, WScript.StdOut
If Err.Number <> 0 Then WScript.Echo Err.Description
WScript.Quit(Err.Number)

Sub Main(inSt, outSt)
    Dim Text
    
    Text =RegClean.Replace(inSt.ReadAll, vbCrLf)
    
    outSt.Write ChrW(&HFEFF)    ' adding unicode bom enables notepad to see the result
    outSt.Write Text
End Sub

Function RegClean()
    Dim R
    
    Set R = CreateObject("VBScript.RegExp")
    R.Global = True
    R.IgnoreCase = False
    R.MultiLine = True
    ' とりあえず、改ページ記号と、全角ブランク（主に行末）をいずれも改行に置き換えてみる。
    R.Pattern = "\x0C|　"
    
    Set RegClean = R
End Function
}}}

== w_3_temp.txt ==

{{{
平成
２３
年３月
１５
日

０時時点版

想定される停電エリア
＜平成２３年３月１５日（火）１５：２０
第１グループ

～

１９：００＞

下記，市町村の一部のエリア
【栃木県】さくら市，宇都宮市，芳賀郡益子町，芳賀郡市貝町，真岡市，
大田原市，那須郡那珂川町，那須烏山市，那須郡那須町，芳賀郡芳賀町，
塩谷郡高根沢町，芳賀郡茂木町，下都賀郡野木町，下野市，河内郡上三川町，
小山市，栃木市，那須塩原市
【群馬県】みどり市，伊勢崎市，佐波郡玉村町上陽地区，桐生市，渋川市，前橋市，
利根郡昭和村
【茨城県】かすみがうら市，つくばみらい市，つくば市，稲敷郡阿見町，下妻市，
稲敷郡河内町，牛久市，桜川市，取手市，守谷市，常総市，筑西市，
土浦市，結城郡八千代町，坂東市，北相馬郡利根町，龍ケ崎市，石岡市
【埼玉県】さいたま市西区，ふじみ野市，秩父郡皆野町，狭山市，上福岡市，坂戸市，
入間郡三芳町，志木市，所沢市，秩父郡小鹿野町，新座市，川越市，
秩父郡荒川村，秩父市，朝霞市，入間市，富士見市，和光市，秩父郡大滝村，
飯能市，比企郡嵐山町，比企郡小川町，比企郡都幾川村，比企郡ときがわ町，
秩父郡横瀬町，秩父郡東秩父村，大里郡寄居町
【千葉県】野田市，流山市，柏市，白井市，松戸市，我孫子市，山武郡大網白里町，
八街市，東金市，山武市，長生郡長南町，市原市，長生郡長柄町，
長生郡睦沢町，茂原市，長生郡白子町，船橋市，鎌ヶ谷市，八千代市，
四街道市，佐倉市，印旛郡酒々井町，山武郡横芝光町，山武郡九十九里町，
山武郡芝山町，成田市，千葉市稲毛区，千葉市花見川区，千葉市若葉区，
千葉市中央区，千葉市美浜区，千葉市緑区，長生郡一宮町，長生郡長生村，
富里市，いすみ市，勝浦市，君津市，木更津市，富津市，鴨川市，南房総市，
館山市，袖ヶ浦市，夷隅郡御宿町，夷隅郡岬町，夷隅郡大多喜町，
安房郡鋸南町
【東京都】武蔵野市，三鷹市，西東京市，東久留米市，小平市，小金井市，東村山市，
清瀬市，杉並区，練馬区


【神奈川県】逗子市，横須賀市，鎌倉市，藤沢市，茅ヶ崎市，座間市，海老名市，
綾瀬市，平塚市，高座郡寒川町，厚木市，愛甲郡愛川町，愛甲郡清川村，
伊勢原市，横浜市磯子区，横浜市栄区，横浜市金沢区，横浜市戸塚区，
横浜市港南区，横浜市泉区，三浦郡葉山町，相模原市中央区，
相模原市南区，大和市，川崎市川崎区，川崎市幸区
【静岡県】御殿場市，裾野市，駿東郡小山町

※設備状況により、各グループで停電エリアが変更となることがありますので、ご了承ください。


想定される停電エリア
＜平成２３年３月１５日（火）１８：２０
第２グループ

～

２２：００＞

下記，市町村の一部のエリア
【栃木県】下都賀郡岩舟町，下都賀郡野木町，鹿沼市，小山市，栃木市
【群馬県】邑楽郡板倉町
【茨城県】猿島郡境町，結城郡八千代町，結城市，古河市，坂東市
【埼玉県】さいたま市浦和区，さいたま市岩槻区，さいたま市桜区，さいたま市大宮区，
さいたま市中央区，さいたま市南区，さいたま市緑区，羽生市，越谷市，
桶川市，加須市，吉川市，久喜市，狭山市，熊谷市，戸田市，幸手市，
行田市，鴻巣市，坂戸市，春日部市，所沢市，川越市，川口市，草加市，
鶴ヶ島市，南埼玉郡宮代町，南埼玉郡白岡町，日高市，入間郡越生町，
入間郡毛呂山町，入間市，飯能市，比企郡ときがわ町，
比企郡川島町，北葛飾郡松伏町，北葛飾郡杉戸町，北本市，蕨市，三郷市
【千葉県】旭市，印西市，印旛郡栄町，印旛郡酒々井町，浦安市，我孫子市，鎌ケ谷市，
佐倉市，四街道市，市川市，習志野市，松戸市，成田市，千葉市，
千葉市稲毛区，千葉市花見川区，千葉市若葉区，千葉市中央区，
千葉市美浜区，千葉市緑区，船橋市，白井市，八千代市
【東京都】あきる野市，稲城市，国立市，狛江市，三鷹市，小金井市，小平市，昭島市，
西東京市，多摩市，町田市，調布市，東久留米市，日野市，八王子市，
府中市，武蔵野市
【神奈川県】綾瀬市，横浜市旭区，横浜市瀬谷区，横浜市青葉区，横浜市都筑区，
横浜市保土ケ谷区，横浜市緑区，海老名市，茅ヶ崎市，高座郡寒川町，
座間市，小田原市，秦野市，相模原市中央区，相模原市南区，
相模原市緑区，足柄上郡中井町，大和市，中郡大磯町，中郡二宮町，
平塚市，横浜市泉区
【山梨県】市川三郷町，南アルプス市，中央市，南巨摩郡富士川町，笛吹市，甲府市


【静岡県】熱海市，駿東郡長泉町，駿東郡清水町，沼津市，御殿場市，裾野市，三島市，
田方郡函南町

※設備状況により、各グループで停電エリアが変更となることがありますので、ご了承ください。


想定される停電エリア
＜平成２３年３月１５日（火）６：２０
第３グループ

～

１０：００＞

下記，市町村の一部のエリア
【栃木県】宇都宮市，塩谷郡塩谷町，下都賀郡岩舟町，下都賀郡壬生町，
下野市，河内郡上三川町，佐野市，鹿沼市，小山市，上都賀郡西方町，
真岡市，足利市，栃木市，日光市
【群馬県】伊勢崎市，館林市，太田市，邑楽郡千代田町，邑楽郡大泉町，邑楽郡邑楽町
【茨城県】つくば市，ひたちなか市，稲敷郡阿見町，稲敷郡河内町，稲敷郡美浦村，
稲敷市，牛久市，結城市，桜川市，常陸太田市，水戸市，筑西市，土浦市，
東茨城郡茨城町，東茨城郡大洗町，那珂郡東海村，那珂市，鉾田市，
龍ケ崎市
【埼玉県】さいたま市浦和区，さいたま市岩槻区，さいたま市見沼区，さいたま市桜区，
さいたま市西区，さいたま市大宮区，さいたま市中央区，さいたま市南区，
さいたま市北区，さいたま市緑区，ふじみ野市，羽生市，越谷市，桶川市，
熊谷市，戸田市，行田市，鴻巣市，志木市，児玉郡上里町，児玉郡神川町，
児玉郡美里町，春日部市，上尾市，新座市，深谷市，大里郡寄居町，
朝霞市，東松山市，南埼玉郡宮代町，入間郡三芳町，入間市，飯能市，
比企郡滑川町，比企郡吉見町，比企郡小川町，比企郡嵐山町，富士見市，
北葛飾郡杉戸町，北足立郡伊奈町，北本市，本庄市，蓮田市，
和光市，蕨市，川越市，加須市，岩槻市，狭山市，久喜市，坂戸市，
幸手市，鶴ヶ島市，入間郡毛呂山町，入間郡越生町，大里郡妻沼町，
大里郡岡部町，南埼玉郡白岡町
【千葉県】旭市，印西市，印旛郡栄町，印旛郡酒々井町，我孫子市，香取郡多古町，
香取郡東庄町，香取市，佐倉市，山武郡横芝光町，山武郡横芝町，
山武郡九十九里町，山武郡芝山町，山武郡松尾町，山武郡大網白里町，
山武市，四街道市，成田市，千葉市稲毛区，千葉市花見川区，千葉市若葉区，
千葉市中央区，千葉市緑区，匝瑳市，銚子市，東金市，白井市，八街市，
八日市場市，富里市


【東京都】あきる野市，稲城市，羽村市，国分寺市，国立市，狛江市，三鷹市，
小金井市，小平市，昭島市，清瀬市，西多摩郡奥多摩町，西多摩郡瑞穂町，
西多摩郡日の出町，西多摩郡檜原村，西東京市，青海市，調布市，
東久留米市，東村山市，東大和市，日野市，八王子市，板橋区，府中市，
武蔵村山市，武蔵野市，福生市，国分寺市，立川市，練馬区
【神奈川県】横須賀市，横浜市栄区，横浜市戸塚区，横浜市港南区，横浜市港北区，
横浜市神奈川区，横浜市瀬谷区，横浜市泉区，横浜市中区，横浜市鶴見区，
横浜市南区，横浜市保土ヶ谷区，鎌倉市，三浦郡葉山町，三浦市，
小田原市，秦野市，逗子市，川崎市幸区，川崎市川崎区，川崎市中原区，
足柄下郡真鶴町，足柄下郡湯河原町，足柄上郡松田町，中郡二宮町，
南足柄市
【山梨県】甲斐市，韮崎市，北杜市，北都留郡小菅村，北都留郡丹波山村
【静岡県】三島市，駿東郡清水町，駿東郡長泉町，沼津市，裾野市，田方郡函南町，
熱海市

※設備状況により、各グループで停電エリアが変更となることがありますので、ご了承ください。


想定される停電エリア
＜平成２３年３月１５日（火）９：２０
第４グループ

～

１３：００＞

下記，市町村の一部のエリア
【栃木県】下都賀郡岩舟町，佐野市，足利市，栃木市
【群馬県】みどり市，伊勢崎市，館林市，桐生市，太田市，邑楽郡千代田町，
邑楽郡大泉町，邑楽郡板倉町，邑楽郡明和町，邑楽郡邑楽町
【茨城県】ひたちなか市，笠間市，桜川市，水戸市，石岡市，東茨城郡茨城町，
東茨城郡城里町，東茨城郡大洗町，那珂市
【埼玉県】さいたま市浦和区，さいたま市岩槻区，さいたま市見沼区，さいたま市桜区，
さいたま市西区，さいたま市大宮区，さいたま市中央区，さいたま市南区，
さいたま市緑区，ふじみ野市，桶川市，加須市，久喜市，狭山市，熊谷市，
戸田市，幸手市，鴻巣市，坂戸市，三郷市，上尾市，新座市，深谷市，川越
市，川口市，草加市，大里郡寄居町，
秩父郡横瀬町，秩父郡皆野町，秩父
郡長瀞町，秩父郡東秩父村，秩父市，朝霞市，鶴ヶ島市，東松山市，南埼玉
郡宮代町，南埼玉郡白岡町，日高市，入間郡越生町，入間郡毛呂山町，入間
市，八潮市，鳩ヶ谷市，飯能市，比企郡ときがわ町，比企郡滑川町，比企郡
吉見町，比企郡小川町，比企郡川島町，比企郡鳩山町，比企郡嵐山町，富士
見市，北足立郡伊奈町，北本市，本庄市，蓮田市，和光市，蕨市
【千葉県】鎌ヶ谷市，習志野市，千葉市花見川区，千葉市中央区，千葉市美浜区，
船橋市，八千代市
【東京都】稲城市，国立市，昭島市，世田谷区，足立区，大田区，町田市，日野市，八
王子市，武蔵村山市，目黒区，立川市
【神奈川】愛甲郡愛川町，愛甲郡清川村，伊勢原市，横浜市港北区，横浜市鶴見区，
厚木市，座間市，小田原市，秦野市，川崎市宮前区，川崎市幸区，
川崎市高津区，川崎市川崎区，川崎市多摩区，川崎市中原区，川崎市麻生区，
相模原市中央区，相模原市南区，相模原市緑区，足柄下郡真鶴町，足柄下郡
湯河原町，足柄下郡箱根町，足柄上郡開成町，足柄上郡山北町，足柄上郡松
田町，足柄上郡大井町，足柄上郡中井町，南足柄市


【山梨県】甲州市，甲府市，甲斐市，山梨市，市川三郷町，中央市，中巨摩郡昭和町，
笛吹市
【静岡県】駿東郡小山町，御殿場市

※設備状況により、各グループで停電エリアが変更となることがありますので、ご了承ください。


想定される停電エリア
＜平成２３年３月１５日（火）１２：２０
第５グループ

～

１６：００＞

下記，市町村の一部のエリア
【栃木県】さくら市，宇都宮市，塩谷郡塩谷町，河内郡上三川町，大田原市，
那須烏山市，那須郡那珂川町，日光市，芳賀郡市貝町，芳賀郡茂木町，
矢板市
【群馬県】安中市，伊勢崎市，甘楽郡下仁田町，甘楽郡甘楽町，甘楽郡南牧村，
吾妻郡草津町，吾妻郡中之条町，吾妻郡長野原町，吾妻郡嬬恋村，高崎市，
佐波郡玉村町（上陽地区を除く）
，渋川市，前橋市，多野郡神流町，藤岡市，
富岡市
【茨城県】かすみがうら市，稲敷市，行方市，鹿嶋市，小美玉市，神栖市，石岡市，
潮来市，土浦市，東茨城郡茨城町，鉾田市
【埼玉県】越谷市，熊谷市，行田市，三郷市，深谷市，川口市，草加市，秩父市，八潮
市，本庄市
【千葉県】旭市，印西市，印旛郡栄町，浦安市，我孫子市，鎌ヶ谷市，香取郡神崎町，
香取郡多古町，香取郡東庄町，香取市，佐倉市，山武郡横芝光町，山武郡芝
山町，市川市，松戸市，成田市，船橋市，匝瑳市，銚子市，柏市，白井市，
野田市，流山市
【東京都】荒川区，足立区，町田市
【神奈川県】愛甲郡愛川町，愛甲郡清川村，伊勢原市，横浜市磯子区，横浜市栄区，
横浜市戸塚区，横浜市港南区，横浜市港北区，横浜市青葉区，横浜市泉区，
横浜市都筑区，横浜市南区，横浜市緑区，海老名市，鎌倉市，茅ヶ崎市，
厚木市，高座郡寒川町，座間市，秦野市，川崎市宮前区，川崎市高津区，
川崎市多摩区，川崎市中原区，川崎市麻生区，相模原市中央区，
相模原市南区，相模原市緑区，中郡大磯町，中郡二宮町，藤沢市，平塚市


【山梨県】甲州市，山梨市，上野原市，西八代郡市川三郷町，大月市，笛吹市，都留市，
南巨摩郡身延町，南巨摩郡南部町，南都留郡山中湖村，南都留郡道志村
南都留郡西桂町，
南都留郡忍野村，
南都留郡富士河口湖町，
南都留郡鳴沢村，
富士吉田市，南巨摩郡早川町
【静岡県】伊東市，伊豆の国市，伊豆市，下田市，賀茂郡河津町，賀茂郡松崎町，
賀茂郡西伊豆町，賀茂郡東伊豆町，賀茂郡南伊豆町，三島市，沼津市，
裾野市，田方郡函南町，熱海市，富士宮市，富士市

※設備状況により、各グループで停電エリアが変更となることがありますので、ご了承ください。


}}}

